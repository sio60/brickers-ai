{"openapi":"3.1.0","info":{"title":"Brick Judge API","description":"\n## ğŸ§± LDR ë¸Œë¦­ êµ¬ì¡° ë¬¼ë¦¬ ê²€ì¦ API\n\nLEGO/ë¸Œë¦­ ëª¨ë¸ì˜ êµ¬ì¡°ì  ì•ˆì •ì„±ì„ ê²€ì¦í•˜ëŠ” APIì…ë‹ˆë‹¤.\n\n### ì£¼ìš” ê¸°ëŠ¥\n- **ë¬¼ë¦¬ ê²€ì¦**: ë¸Œë¦­ êµ¬ì¡°ì˜ ì•ˆì •ì„± ë¶„ì„\n- **ì´ìŠˆ íƒì§€**: floating(ê³µì¤‘ ë¶€ìœ ), isolated(ê³ ë¦½), top_only(ìœ„ì—ì„œë§Œ ì—°ê²°) ë“±\n- **ì ìˆ˜ ì‚°ì¶œ**: 0-100ì  ì•ˆì •ì„± ì ìˆ˜\n\n### LDR í¬ë§·\nLDraw í‘œì¤€ í¬ë§· (.ldr, .dat)ì„ ì‚¬ìš©í•©ë‹ˆë‹¤.\n```\n0 Model Name\n1 <color> <x> <y> <z> <rotation matrix 9ê°œ> <part>.dat\n```\n\n### ì‚¬ìš© ì˜ˆì‹œ (LLMìš©)\n1. `POST /api/judge` ì— LDR ë¬¸ìì—´ ì „ì†¡\n2. ì ìˆ˜ì™€ ì´ìŠˆ ëª©ë¡ í™•ì¸\n3. ì ìˆ˜ 50 ë¯¸ë§Œì´ë©´ êµ¬ì¡° ìˆ˜ì • í•„ìš”\n","contact":{"name":"Brickers Team","url":"https://github.com/sio60/brickers-ai"},"license":{"name":"MIT"},"version":"1.0.0"},"paths":{"/":{"get":{"summary":"Index","operationId":"index__get","responses":{"200":{"description":"Successful Response","content":{"text/html":{"schema":{"type":"string"}}}}}}},"/api/status":{"get":{"tags":["info"],"summary":"ì„œë²„ ìƒíƒœ í™•ì¸","description":"ì„œë²„ ìƒíƒœì™€ ë°±ì—”ë“œ ì •ë³´ë¥¼ ë°˜í™˜í•©ë‹ˆë‹¤.","operationId":"status_api_status_get","responses":{"200":{"description":"Successful Response","content":{"application/json":{"schema":{}}}}}}},"/api/verify":{"post":{"tags":["viewer"],"summary":"LDR íŒŒì¼ ì—…ë¡œë“œ ê²€ì¦","description":"íŒŒì¼ ì—…ë¡œë“œ ë°©ì‹ì˜ LDR ê²€ì¦ (ì›¹ UIìš©)","operationId":"verify_ldr_api_verify_post","requestBody":{"content":{"multipart/form-data":{"schema":{"$ref":"#/components/schemas/Body_verify_ldr_api_verify_post"}}},"required":true},"responses":{"200":{"description":"Successful Response","content":{"application/json":{"schema":{}}}},"422":{"description":"Validation Error","content":{"application/json":{"schema":{"$ref":"#/components/schemas/HTTPValidationError"}}}}}}},"/api/info":{"get":{"tags":["info"],"summary":"ë°±ì—”ë“œ ì •ë³´","description":"ì‚¬ìš© ì¤‘ì¸ ë¬¼ë¦¬ ì—”ì§„ ë°±ì—”ë“œ ì •ë³´ë¥¼ ë°˜í™˜í•©ë‹ˆë‹¤.","operationId":"info_api_info_get","responses":{"200":{"description":"Successful Response","content":{"application/json":{"schema":{"$ref":"#/components/schemas/BackendInfo"}}}}}}},"/viewer":{"get":{"summary":"Viewer","description":"3D ë·°ì–´ í˜ì´ì§€","operationId":"viewer_viewer_get","responses":{"200":{"description":"Successful Response","content":{"text/html":{"schema":{"type":"string"}}}}}}},"/api/judge":{"post":{"tags":["judge"],"summary":"ğŸ¯ LDR ë¸Œë¦­ êµ¬ì¡° ë¬¼ë¦¬ ê²€ì¦ (LLMìš© ë©”ì¸ API)","description":"## LDR ë¸Œë¦­ êµ¬ì¡°ì˜ ë¬¼ë¦¬ì  ì•ˆì •ì„±ì„ ê²€ì¦í•©ë‹ˆë‹¤.\n\n### ì…ë ¥\n- `ldr_content`: LDraw í¬ë§· ë¬¸ìì—´\n\n### ì¶œë ¥\n- `score`: 0-100ì  (50ì  ì´ìƒì´ë©´ ì•ˆì •)\n- `stable`: ì•ˆì • ì—¬ë¶€\n- `issues`: ë°œê²¬ëœ ë¬¸ì œ ëª©ë¡\n\n### ì´ìŠˆ íƒ€ì…\n- `floating`: ê³µì¤‘ì— ë– ìˆëŠ” ë¸Œë¦­ (critical)\n- `isolated`: ë‹¤ë¥¸ ë¸Œë¦­ê³¼ ì—°ê²°ë˜ì§€ ì•ŠìŒ (high)\n- `top_only`: ìœ„ì—ì„œë§Œ ì—°ê²°ë¨, ì•„ë˜ ì§€ì§€ ì—†ìŒ (medium)\n\n### ì‚¬ìš© ì˜ˆì‹œ\n```python\nresponse = requests.post(\"/api/judge\", json={\n    \"ldr_content\": \"0 My Model\\n1 4 0 0 0 1 0 0 0 1 0 0 0 1 3001.dat\"\n})\nif response.json()[\"score\"] < 50:\n    print(\"êµ¬ì¡° ìˆ˜ì • í•„ìš”!\")\n```","operationId":"judge_ldr_api_judge_post","requestBody":{"content":{"application/json":{"schema":{"$ref":"#/components/schemas/LdrRequest"}}},"required":true},"responses":{"200":{"description":"ê²€ì¦ ê²°ê³¼: ì ìˆ˜, ì•ˆì •ì„±, ì´ìŠˆ ëª©ë¡","content":{"application/json":{"schema":{"$ref":"#/components/schemas/JudgeResponse"}}}},"422":{"description":"Validation Error","content":{"application/json":{"schema":{"$ref":"#/components/schemas/HTTPValidationError"}}}}}}}},"components":{"schemas":{"BackendInfo":{"properties":{"backend":{"type":"string","title":"Backend","description":"ë°±ì—”ë“œ íƒ€ì…","example":"rust"},"version":{"type":"string","title":"Version","description":"ë²„ì „","example":"0.1.0"},"module":{"type":"string","title":"Module","description":"ëª¨ë“ˆëª…","example":"brick_judge_rs"}},"type":"object","required":["backend","version","module"],"title":"BackendInfo","description":"ë°±ì—”ë“œ ì •ë³´"},"Body_verify_ldr_api_verify_post":{"properties":{"file":{"type":"string","format":"binary","title":"File","description":"LDR íŒŒì¼ (.ldr, .dat)"}},"type":"object","required":["file"],"title":"Body_verify_ldr_api_verify_post"},"BrickIssue":{"properties":{"brick_id":{"anyOf":[{"type":"integer"},{"type":"null"}],"title":"Brick Id","description":"ë¬¸ì œê°€ ìˆëŠ” ë¸Œë¦­ ID (0ë¶€í„° ì‹œì‘)"},"type":{"type":"string","title":"Type","description":"ì´ìŠˆ íƒ€ì…","example":"floating"},"severity":{"type":"string","title":"Severity","description":"ì‹¬ê°ë„: critical, high, medium, low","example":"critical"},"message":{"type":"string","title":"Message","description":"ì´ìŠˆ ì„¤ëª…","example":"ë¸Œë¦­ #5 ë°”ë‹¥ê³¼ ì—°ê²° ì•ˆë¨"},"color":{"type":"string","title":"Color","description":"ì‹œê°í™”ìš© ìƒ‰ìƒ (hex)","example":"#FF0000"}},"type":"object","required":["type","severity","message","color"],"title":"BrickIssue","description":"ë¸Œë¦­ êµ¬ì¡° ì´ìŠˆ"},"HTTPValidationError":{"properties":{"detail":{"items":{"$ref":"#/components/schemas/ValidationError"},"type":"array","title":"Detail"}},"type":"object","title":"HTTPValidationError"},"JudgeResponse":{"properties":{"model_name":{"type":"string","title":"Model Name","description":"ëª¨ë¸ ì´ë¦„","example":"Simple Tower"},"brick_count":{"type":"integer","title":"Brick Count","description":"ì´ ë¸Œë¦­ ê°œìˆ˜","example":15},"score":{"type":"integer","title":"Score","description":"ì•ˆì •ì„± ì ìˆ˜ (0-100, 50 ì´ìƒì´ë©´ ì•ˆì •)","example":85},"stable":{"type":"boolean","title":"Stable","description":"ì•ˆì • ì—¬ë¶€ (score >= 50 and no critical)","example":true},"issues":{"items":{"$ref":"#/components/schemas/BrickIssue"},"type":"array","title":"Issues","description":"ë°œê²¬ëœ ì´ìŠˆ ëª©ë¡","default":[]},"brick_colors":{"additionalProperties":{"type":"string"},"type":"object","title":"Brick Colors","description":"ì´ìŠˆ ë¸Œë¦­ë³„ ìƒ‰ìƒ ë§µ","default":{}},"elapsed_ms":{"type":"number","title":"Elapsed Ms","description":"ì²˜ë¦¬ ì‹œê°„ (ë°€ë¦¬ì´ˆ)","example":1.23},"backend":{"type":"string","title":"Backend","description":"ì‚¬ìš©ëœ ë°±ì—”ë“œ ì—”ì§„","example":"rust"}},"type":"object","required":["model_name","brick_count","score","stable","elapsed_ms","backend"],"title":"JudgeResponse","description":"ë¬¼ë¦¬ ê²€ì¦ ê²°ê³¼","example":{"backend":"rust","brick_colors":{"5":"#0055FF"},"brick_count":15,"elapsed_ms":1.23,"issues":[{"brick_id":5,"color":"#0055FF","message":"ë¸Œë¦­ #5 ìœ„ì—ì„œë§Œ ì—°ê²°ë¨","severity":"medium","type":"top_only"}],"model_name":"Simple Tower","score":70,"stable":true}},"LdrRequest":{"properties":{"ldr_content":{"type":"string","title":"Ldr Content","description":"LDraw í¬ë§·ì˜ ë¸Œë¦­ ëª¨ë¸ ë¬¸ìì—´","example":"0 Simple Tower\n1 4 0 0 0 1 0 0 0 1 0 0 0 1 3001.dat\n1 4 0 -24 0 1 0 0 0 1 0 0 0 1 3001.dat\n1 1 0 -48 0 1 0 0 0 1 0 0 0 1 3003.dat"}},"type":"object","required":["ldr_content"],"title":"LdrRequest","description":"LDR ê²€ì¦ ìš”ì²­"},"ValidationError":{"properties":{"loc":{"items":{"anyOf":[{"type":"string"},{"type":"integer"}]},"type":"array","title":"Location"},"msg":{"type":"string","title":"Message"},"type":{"type":"string","title":"Error Type"}},"type":"object","required":["loc","msg","type"],"title":"ValidationError"}}},"tags":[{"name":"judge","description":"ë¸Œë¦­ êµ¬ì¡° ë¬¼ë¦¬ ê²€ì¦ (LLMìš© ë©”ì¸ API)"},{"name":"info","description":"ì„œë²„ ìƒíƒœ ë° ì •ë³´"},{"name":"viewer","description":"ì›¹ UI"}]}